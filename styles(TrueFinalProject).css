:root{
  /* muted color for secondary text (higher contrast) */
  --muted: rgba(255,255,255,0.85);
  --muted-strong: #ffffff;
  /* vibrant accents */
  --accent:#ff6b6b; /* coral */
  --accent-2:#6ee7b7; /* mint */
  --accent-3:#7c3aed; /* purple */
  /* darker base shades for depth */
  --bg-1:#071022;
  --bg-2:#041028;
  /* glass layers */
  --glass:rgba(255,255,255,0.03);
  --glass-border:rgba(255,255,255,0.06);
  --text-shadow: 0 1px 2px rgba(0,0,0,0.6);
}
body{font-family:'Segoe UI',Roboto,Arial,sans-serif;color:var(--muted-strong);margin:0;min-height:100vh;/* vibrant animated gradient background */
  background: linear-gradient(120deg,var(--accent-3),var(--accent) 40%,var(--accent-2) 80%);
  background-size:300% 300%;
  animation: gradientShift 14s ease infinite;
}
/* subtle layered glow/shape overlays for depth */
body::after{ content:''; position:fixed; inset:0; pointer-events:none; z-index:-1; background:
  radial-gradient(circle at 12% 20%, rgba(124,58,237,0.08), transparent 12%),
  radial-gradient(circle at 85% 80%, rgba(255,107,107,0.06), transparent 14%),
  radial-gradient(circle at 50% 10%, rgba(110,231,183,0.04), transparent 16%);
  mix-blend-mode:screen; opacity:0.95; }

/* Increase contrast for common text elements */
.brand, .meta strong, .menu-title-main, .player-left span, .player .playerTitle{ color:var(--muted-strong); text-shadow:var(--text-shadow); }
.meta small, .menu-title-sub, #playlists li, #queueList li span, .preview-badge, .menu-empty{ color:var(--muted); }
.preview-badge{ background: rgba(0,0,0,0.45); color: #fff; border-color: rgba(255,255,255,0.04); }

@keyframes gradientShift{
  0%{ background-position:0% 50%; }
  50%{ background-position:100% 50%; }
  100%{ background-position:0% 50%; }
}
/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce){
  body{ animation:none; background-size:auto }
  body::after{ transition:none }
}
.topbar{display:flex;align-items:center;padding:14px 22px;gap:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);backdrop-filter:blur(6px);border-bottom:1px solid var(--glass-border);position:sticky;top:0;z-index:10}
.brand{font-weight:800;font-size:18px;color:#fff;letter-spacing:0.6px;display:flex;align-items:center;gap:10px}
.brand .logo{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,#7b61ff,#1db954);box-shadow:0 6px 20px rgba(29,185,84,0.12)}
.search input{padding:10px 12px;border-radius:12px;border:1px solid transparent;background:rgba(255,255,255,0.03);color:#e6eef1;min-width:260px;outline:none;transition:box-shadow .12s,border .12s}
.search input:focus{box-shadow:0 6px 24px rgba(29,185,84,0.09);border-color:rgba(29,185,84,0.14)}
.actions button{margin-right:10px;padding:8px 12px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--accent),#6aefb0);color:#06110a;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(16,185,129,0.12);transition:transform .12s,box-shadow .12s}
.actions button:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(16,185,129,0.16)}
.playlist-count{background:rgba(255,255,255,0.06);padding:4px 8px;border-radius:12px;font-size:13px;margin-left:8px;color:var(--accent);font-weight:700}
.main{display:flex;gap:18px;padding:22px;max-width:1200px;margin:18px auto 100px}
.sidebar{width:170px;background:var(--glass);border-radius:12px;padding:12px;min-height:320px;border:1px solid var(--glass-border)}
.add-playlist{display:flex;gap:8px;margin-bottom:8px}
.add-playlist input{flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
.add-playlist button{padding:8px 10px;border-radius:8px;border:0;background:linear-gradient(90deg,var(--accent),#6aefb0);color:#06110a;cursor:pointer}
#playlists{list-style:none;padding:0;margin:0}
#playlists li{padding:8px 6px;border-radius:8px;margin-bottom:6px;cursor:pointer;color:#e6eef1;background:transparent;border:1px solid transparent}
#playlists li:hover{background:rgba(255,255,255,0.02);border-color:rgba(255,255,255,0.03)}
#playlists li.active{background:linear-gradient(90deg,rgba(29,185,84,0.08),rgba(122,121,255,0.03));border:1px solid rgba(29,185,84,0.12);font-weight:700;color:var(--accent)}
.content{flex:1}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px;margin-top:8px}
.track{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:10px;cursor:pointer;position:relative;overflow:visible;box-shadow:0 6px 18px rgba(0,0,0,0.6);transition:transform .16s,box-shadow .16s,opacity .12s;display:grid;grid-template-columns:64px 1fr auto;align-items:center;gap:12px}
.track:hover{transform:translateY(-6px);box-shadow:0 22px 44px rgba(0,0,0,0.65)}
.cover{width:64px;height:64px;border-radius:8px;background-size:cover;background-position:center;box-shadow:inset 0 -10px 20px rgba(0,0,0,0.25)}
/* Ensure img inside .cover fills container and is cropped correctly */
.cover img{width:100%;height:100%;display:block;border-radius:8px;object-fit:cover}
.meta{min-width:0}
.meta strong{display:block;font-size:14px}
.meta small{color:var(--muted);font-size:12px;display:block;margin-top:6px}
.preview-badge{display:inline-block;margin-left:8px;padding:4px 8px;border-radius:12px;background:rgba(255,255,255,0.05);font-size:11px;color:#e6eef1;border:1px solid rgba(255,255,255,0.05)}
/* Actions live in their own right column so they don't overlap text or cover */
.track .track-actions{display:flex;gap:8px;align-items:center;justify-self:end;opacity:1;transition:transform .12s,opacity .12s}
.track:hover .track-actions{transform:translateY(-4px);opacity:1}
/* Responsive: move actions below meta on narrow screens */
@media (max-width:800px){
  .track{grid-template-columns:64px 1fr;grid-auto-rows:auto}
  .track .track-actions{grid-column:1/-1;justify-self:end;margin-top:8px}
}
.icon-btn{width:42px;height:42px;border-radius:10px;display:inline-grid;place-items:center;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);cursor:pointer;color:#fff;font-size:18px;box-shadow:0 6px 14px rgba(0,0,0,0.45);transition:transform .12s,box-shadow .12s,background .12s}
.icon-btn:hover,.icon-btn:focus{transform:translateY(-3px) scale(1.03);background:rgba(255,255,255,0.12);border-color:rgba(255,255,255,0.12);box-shadow:0 18px 36px rgba(0,0,0,0.5)}
.icon-btn:focus{outline:none;box-shadow:0 0 0 4px rgba(29,185,84,0.08),0 18px 36px rgba(0,0,0,0.5)}
/* colored accents for quick recognition */
.play-small{background:linear-gradient(135deg,rgba(34,197,94,0.12),rgba(34,197,94,0.06));border-color:rgba(34,197,94,0.14)}
.playfull-small{background:linear-gradient(135deg,rgba(14,165,233,0.12),rgba(14,165,233,0.06));border-color:rgba(14,165,233,0.14)}
.save-small{background:linear-gradient(135deg,rgba(59,130,246,0.12),rgba(59,130,246,0.06));border-color:rgba(59,130,246,0.14)}

@media (max-width:800px){.icon-btn{width:36px;height:36px;font-size:16px}.track .track-actions{gap:6px;opacity:1}}
.preview-badge{display:inline-block;margin-left:8px;padding:4px 8px;border-radius:12px;background:rgba(255,255,255,0.03);font-size:11px;color:var(--muted);border:1px solid rgba(255,255,255,0.03)}

.track.selected{outline:2px solid rgba(29,185,84,0.9);transform:translateY(-8px);box-shadow:0 22px 44px rgba(0,0,0,0.65)}
.player{position:fixed;left:12px;right:12px;bottom:12px;padding:12px 18px;background:linear-gradient(180deg,rgba(8,10,14,0.85),rgba(8,10,18,0.9));border-radius:14px;display:flex;align-items:center;gap:16px;border:1px solid rgba(255,255,255,0.06);box-shadow:0 24px 48px rgba(0,0,0,0.6);backdrop-filter:blur(8px);color:var(--muted-strong);z-index:100}
.player-left img{width:64px;height:64px;border-radius:10px;object-fit:cover;flex-shrink:0}
/* Decorative music note styling */
.brand-notes{display:inline-flex;align-items:center;margin-left:8px}
.brand-notes svg{width:26px;height:26px;filter:drop-shadow(0 6px 18px rgba(0,0,0,0.35));opacity:0.95}

/* subtle floating note near the player */
.player::before{content:'';position:absolute;right:28px;bottom:18px;width:36px;height:36px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M9 17.5A2.5 2.5 0 1 0 9 12.5a2.5 2.5 0 0 0 0 5z' fill='%23ffffff' opacity='0.9'/%3E%3Cpath d='M9 14V4l10-2v10' stroke='%23ffffff' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round' opacity='0.9'/%3E%3Cpath d='M19 12.5A2.5 2.5 0 1 0 19 7.5a2.5 2.5 0 0 0 0 5z' fill='%23ffffff' opacity='0.85'/%3E%3C/svg%3E");background-size:contain;background-repeat:no-repeat;opacity:0.14;pointer-events:none;transform:translateY(2px);}
.player-left .track-info{margin-left:12px;display:flex;flex-direction:column;gap:4px;min-width:180px;max-width:420px;overflow:hidden}
#playerTitle{font-size:16px;font-weight:700;color:var(--muted-strong);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}
#playerArtist{font-size:13px;color:var(--muted);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}
.controls button{background:transparent;border:0;color:#fff;font-size:20px;cursor:pointer;padding:6px}
.progress{display:flex;align-items:center;gap:12px;flex:1;min-width:220px}
.progress span{font-size:13px;color:var(--muted);min-width:44px;text-align:center;font-weight:600}
input[type=range]{appearance:none;-webkit-appearance:none;width:100%;height:8px;background:rgba(255,255,255,0.08);border-radius:6px}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:var(--accent);border-radius:50%;box-shadow:0 8px 20px rgba(0,0,0,0.5)}
input[type=range]::-moz-range-thumb{width:16px;height:16px;background:var(--accent);border-radius:50%;box-shadow:0 8px 20px rgba(0,0,0,0.5)}
.queue{width:220px;background:var(--glass);border-radius:12px;padding:12px;border:1px solid var(--glass-border);min-height:180px}
#queueList li{padding:8px 6px;display:flex;justify-content:space-between;align-items:center;gap:8px}
#queueList button{background:transparent;border:0;color:var(--muted);cursor:pointer}
@media (max-width:800px){.main{flex-direction:column;margin-bottom:160px}.queue{width:100%}.sidebar{width:100%}}

.section-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.discover-controls{display:flex;gap:8px}
.discover-controls button{padding:8px 12px;border-radius:10px;border:0;background:transparent;color:#e6eef1;border:1px solid rgba(255,255,255,0.04);cursor:pointer;transition:transform .08s,background .08s}
.discover-controls button:hover{transform:translateY(-3px);background:rgba(255,255,255,0.02)}
.discover-end{margin-top:14px;text-align:center;color:var(--muted);font-size:13px}
.empty{padding:28px;text-align:center;color:var(--muted)}

/* small inline save menu */
.save-menu{z-index:30;min-width:220px;background:linear-gradient(180deg,rgba(10,12,15,0.96),rgba(8,10,14,0.96));border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:10px;color:#e6eef1;box-shadow:0 18px 36px rgba(0,0,0,0.6);font-size:13px}
.save-menu .menu-title{margin-bottom:8px}
.save-menu .menu-title-main{font-weight:700;line-height:1.1}
.save-menu .menu-title-sub{color:var(--muted);font-size:12px;margin-top:4px}
.save-menu .menu-actions{display:flex;gap:8px;margin-bottom:8px}
.save-menu .menu-btn{flex:1;padding:8px;border-radius:8px;border:0;background:rgba(255,255,255,0.03);color:#fff;cursor:pointer;text-align:left;display:flex;align-items:center;justify-content:space-between;gap:8px}
.save-menu .menu-btn:hover{background:rgba(255,255,255,0.06)}
.save-menu .menu-playlists{display:flex;flex-direction:column;gap:6px}
.save-menu .menu-empty{color:var(--muted);font-size:13px}
.save-menu .pl-count{background:rgba(255,255,255,0.04);padding:2px 6px;border-radius:8px;font-size:12px;color:var(--muted);margin-left:8px}